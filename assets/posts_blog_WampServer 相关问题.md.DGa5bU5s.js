import{_ as s,c as i,o as a,aP as e}from"./chunks/framework.CpK_9rKb.js";const E=JSON.parse('{"title":"WampServer 相关问题","description":"WampServer 相关问题","frontmatter":{"title":"WampServer 相关问题","description":"WampServer 相关问题","date":"2023-10-09T00:00:00.000Z","tags":["PHP"]},"headers":[],"relativePath":"posts/blog/WampServer 相关问题.md","filePath":"posts/blog/WampServer 相关问题.md"}'),n={name:"posts/blog/WampServer 相关问题.md"},t=e(`<h2 id="wampserver" tabindex="-1">wampserver <a class="header-anchor" href="#wampserver" aria-label="Permalink to &quot;wampserver&quot;">​</a></h2><blockquote><p>wampserver 版本 3.2.6 64 Bits，系统 windows 10</p></blockquote><h2 id="apache" tabindex="-1">Apache <a class="header-anchor" href="#apache" aria-label="Permalink to &quot;Apache&quot;">​</a></h2><blockquote><p>Apache 版本 2.4.51</p></blockquote><h3 id="权限设置问题" tabindex="-1">权限设置问题 <a class="header-anchor" href="#权限设置问题" aria-label="Permalink to &quot;权限设置问题&quot;">​</a></h3><ol><li>进入 httpd.conf 中,找到<code>&lt;Directory/&gt;</code>标签,修改成如下</li></ol><div class="language-plaintext vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>&lt;Directory /&gt;</span></span>
<span class="line"><span>    Options FollowSymLinks</span></span>
<span class="line"><span>    AllowOverride None</span></span>
<span class="line"><span>    Order deny,allow</span></span>
<span class="line"><span>    Require all granted</span></span>
<span class="line"><span>&lt;/Directory&gt;</span></span></code></pre></div><ol start="2"><li>继续找到<code>&lt;Directory &quot;\${INSTALL_DIR}/www/&quot;&gt;</code>标签,修改</li></ol><div class="language-plaintext vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>Required local -&gt; Require all granted</span></span></code></pre></div><ol start="3"><li>进入 httpd-vhosts.conf,同 2 一样修改</li></ol><blockquote><p>注意：若依旧无法访问，需要查看本地的防火墙是否关闭，若不想关闭防火墙，可以添加入站规则，放开apache的端口，提供外网访问。</p></blockquote><h2 id="mysql" tabindex="-1">Mysql <a class="header-anchor" href="#mysql" aria-label="Permalink to &quot;Mysql&quot;">​</a></h2><blockquote><p>MySQL 版本 5.7.36</p></blockquote><h3 id="root-密码修改" tabindex="-1">root 密码修改 <a class="header-anchor" href="#root-密码修改" aria-label="Permalink to &quot;root 密码修改&quot;">​</a></h3><blockquote><p>wampserver 默认情况下 mysql 的 root 密码为空。</p></blockquote><p>修改步骤如下：</p><ol><li>打开 phpMyadmin,选择 MySQL 服务器直接登录。</li><li>点击界面上的账户</li></ol><p><img src="https://qiniu.ustinian077.top/image-20230321163802852.png" alt="image-20230321163802852" data-fancybox="gallery"></p><ol start="3"><li>勾选 root 用户后，选择修改权限</li></ol><p><img src="https://qiniu.ustinian077.top/image-20230321163848103.png" alt="image-20230321163848103" data-fancybox="gallery"></p><ol start="4"><li>选择 Change password(修改密码)，输入密码后执行。</li></ol><p><img src="https://qiniu.ustinian077.top/image-20230321164305078.png" alt="image-20230321164305078" data-fancybox="gallery"></p><h2 id="php" tabindex="-1">PHP <a class="header-anchor" href="#php" aria-label="Permalink to &quot;PHP&quot;">​</a></h2><blockquote><p>PHP 版本 7.4.26</p></blockquote><h3 id="连接-sql-server-数据库" tabindex="-1">连接 SQL Server 数据库 <a class="header-anchor" href="#连接-sql-server-数据库" aria-label="Permalink to &quot;连接 SQL Server 数据库&quot;">​</a></h3><ol><li>安装SQL Server</li></ol><p>看该篇博客作者里面讲得十分详细<a href="https://blog.csdn.net/qq_43884946/article/details/123312148" target="_blank" rel="noreferrer">安装SQL Server详细教程_sql server安装教程_toMontain的博客-CSDN博客</a></p><ol start="2"><li>根据自己的PHP版本下载对应的Microsoft SQL Server PHP 驱动程序</li></ol><p>在微软的官方地址这<a href="https://learn.microsoft.com/zh-cn/sql/connect/php/release-notes-php-sql-driver?view=sql-server-ver16" target="_blank" rel="noreferrer">Microsoft Drivers for PHP 发行说明 - PHP drivers for SQL Server | Microsoft Learn</a>根据自己的版本号找到对应的驱动程序，我自己的版本是<code>7.4.26</code> 因此下载<code>5.10</code>版本的驱动程序</p><p><img src="https://qiniu.ustinian077.top/image-20230323165519502.png" alt="image-20230323165519502" data-fancybox="gallery"></p><ol start="3"><li>解压文件</li></ol><p>在下载好的压缩包中，找到<code>php_pdo_sqlsrv_74_ts_x64.dll</code>、<code>php_sqlsrv_74_ts_x64.dll</code>这两个文件。放到<code>C:\\wamp64\\bin\\php\\php7.4.26\\ext</code>该位置。</p><blockquote><p>注意：ts 代表的是线程安全 nts 代表的是线程不安全 根据自己的需要选择，一般选择ts版本。x64 代表 64bit 根据自己电脑系统来选择。</p></blockquote><p><img src="https://qiniu.ustinian077.top/image-20230323170104420.png" alt="image-20230323170104420" data-fancybox="gallery"></p><ol start="4"><li>配置<code>php.ini</code></li></ol><p>左键点击wampserver图标，打开PHP下的<code>php.ini</code>文件。搜索<code>extension</code>找到</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;extension=odbc</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=openssl</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;extension=pdo_firebird</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=pdo_mysql</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;extension=pdo_oci</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;extension=pdo_odbc</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;extension=pdo_pgsql</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=pdo_sqlite</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;extension=pgsql</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;extension=phpdbg_webhelper</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;extension=shmop</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=php_pdo_sqlsrv_74_ts_x64.dll</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extension</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=php_sqlsrv_74_ts_x64.dll</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; 在末尾添加上面两行代码，引入拓展</span></span></code></pre></div><ol start="5"><li>重启wampserver，测试效果</li></ol><p>打开apache网页，<a href="http://localhost:8080/?phpinfo=-1" target="_blank" rel="noreferrer">http://localhost:8080/?phpinfo=-1</a> (端口号自己定义的)，搜索sqlsrv看到<code>pdo_sqlsrv</code>信息代表引入拓展成功</p><p><img src="https://qiniu.ustinian077.top/image-20230323171521557.png" alt="image-20230323171521557" data-fancybox="gallery"></p><blockquote><p>注：若配置<code>php.ini</code>不生效，再到 wamp64的bin目录下找到php所对应的版本修改其<code>phpForApache.ini</code>文件后，重新启动一遍，修改步骤同4相同</p></blockquote><ol start="6"><li>代码测试</li></ol><blockquote><p>注：若电脑未安装SQL Server ODBC驱动程序，则需要自行安装下ODBC驱动源，地址：<a href="https://learn.microsoft.com/zh-cn/sql/connect/odbc/download-odbc-driver-for-sql-server?view=sql-server-ver16" target="_blank" rel="noreferrer">下载 ODBC Driver for SQL Server - ODBC Driver for SQL Server | Microsoft Learn</a>下载最新版本即可。</p></blockquote><p>代码测试如下：</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">php</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$serverName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;localhost&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//数据库服务器地址</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$uid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;sa&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//数据库用户名</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$pwd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;123456&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//数据库密码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$connectionInfo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UID&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$uid, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PWD&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$pwd, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Database&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sqlsrv_connect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">($serverName, $connectionInfo);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">( $conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;连接失败！&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    var_dump</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">sqlsrv_errors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    exit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;链接成功&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>效果图如下：</p><p><img src="https://qiniu.ustinian077.top/image-20230323172529493.png" alt="image-20230323172529493" data-fancybox="gallery"></p>`,47),l=[t];function p(h,r,o,k,d,c){return a(),i("div",null,l)}const y=s(n,[["render",p]]);export{E as __pageData,y as default};
